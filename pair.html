 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>PAIR CODE</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
   <style>
     body {
       display: flex;
       justify-content: center;
       align-items: center;
       height: 100vh;
       margin: 0;
       background-color: #1a1a1a; /* Dark background */
       font-family: 'Roboto Mono', monospace; /* Cool monospace font */
       color: #eee; /* Light text */
       overflow: hidden; /* Hide potential scrollbars */
       flex-direction: column; /* Center items vertically */
     }

     .container {
       display: flex;
       flex-direction: column;
       align-items: center;
     }

     .logo-container {
       margin-bottom: 20px; /* Space below logo */
       text-align: center;
       animation: floatLogo 3s ease-in-out infinite alternate;
     }

     @keyframes floatLogo {
       0% { transform: translateY(0); }
       100% { transform: translateY(-10px); }
     }

     .logo {
       width: 100px; /* Logo size */
       height: auto;
       border-radius: 10px;
       box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5); /* Subtle shadow */
     }

     .bot-name {
       color: #00bcd4; /* Cyan bot name */
       font-size: 1.2em;
       font-weight: bold;
       letter-spacing: 0.05em;
       margin-top: 10px;
       text-shadow: 0 0 8px rgba(0, 188, 212, 0.6); /* Glow effect */
       animation: fadeIn 0.8s ease-out 0.5s backwards;
     }

     @keyframes fadeIn {
       from { opacity: 0; }
       to { opacity: 1; }
     }

     .box {
       width: 300px; /* Adjusted box width */
       padding: 35px; /* Adjusted padding */
       background-color: #222; /* Darker box */
       border-radius: 15px;
       box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6); /* Deeper shadow */
       border: 1px solid #333;
       animation: fadeInUp 0.7s ease-out 0.8s backwards, floatBox 4s ease-in-out infinite alternate;
       margin-bottom: 20px; /* Space below box */
     }

     @keyframes fadeInUp {
       from { opacity: 0; transform: translateY(20px); }
       to { opacity: 1; transform: translateY(0); }
     }

     @keyframes floatBox {
       0% { transform: translateY(0); }
       100% { transform: translateY(8px); }
     }

     #text {
       color: #eee;
     }

     .input-container {
       display: flex;
       background: #333; /* Dark input background */
       border-radius: 8px;
       padding: 0.3rem;
       gap: 0.3rem;
       max-width: 260px; /* Adjusted input width */
       width: 100%;
       border: 1px solid #444;
       overflow: hidden;
     }

     .input-container input {
       border-radius: 8px 0 0 8px;
       background: #444; /* Darker input field */
       width: 70%;
       flex-basis: 70%;
       padding: 1rem;
       border: none;
       border-left: 3px solid #00bcd4; /* Cyan accent border */
       color: #eee;
       transition: border-left 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
       font-size: 0.95em;
     }

     .input-container input:focus {
       border-left: 3px solid #00ffc6; /* Brighter cyan focus */
       outline: none;
       box-shadow: 0 0 8px rgba(0, 255, 198, 0.4); /* Focus glow */
     }

     .input-container button {
       flex-basis: 30%;
       padding: 1rem 1.5rem; /* Adjusted button padding */
       background: linear-gradient(to right, #00bcd4, #00ffc6); /* Gradient button */
       font-weight: bold;
       letter-spacing: 0.06em;
       text-transform: uppercase;
       color: #222; /* Dark button text */
       border: none;
       width: 100%;
       border-radius: 8px;
       transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
       cursor: pointer;
       font-size: 0.95em;
       overflow: hidden;
       position: relative;
       transform-origin: center;
       box-shadow: 0 2px 8px rgba(0, 188, 212, 0.4); /* Subtle shadow */
     }

     .input-container button:hover {
       transform: scale(1.05);
       box-shadow: 0 4px 12px rgba(0, 255, 198, 0.5); /* Hover shadow */
     }

     .centered-text {
       color: #00bcd4; /* Cyan heading */
       font-size: 1.7em;
       margin-bottom: 18px;
       font-weight: bold;
       letter-spacing: 0.04em;
       text-shadow: 0 0 10px rgba(0, 188, 212, 0.7); /* More prominent glow */
       text-align: center;
     }

     h6 {
       color: #999; /* Medium gray subheading */
       margin-bottom: 25px;
       font-size: 0.95em;
     }

     #loading-spinner {
       display: none;
       color: #00bcd4; /* Cyan spinner */
       margin-top: 20px;
     }

     .fa-spinner {
       animation: spin 1s linear infinite;
     }

     @keyframes spin {
       0% { transform: rotate(0deg); }
       100% { transform: rotate(360deg); }
     }

     .error-message {
       color: #ff6b6b; /* Red error */
       font-weight: bold;
       margin-top: 20px;
       text-shadow: 0 0 8px rgba(255, 107, 107, 0.6); /* Error glow */
     }

     #copy {
       color: #ffeb3b; /* Yellow code color */
       font-weight: bold;
       font-size: 1.1em;
       cursor: pointer;
       text-shadow: 0 0 8px rgba(255, 235, 59, 0.6); /* Code glow */
       transition: transform 0.2s ease-in-out;
       display: inline-block;
     }

     #copy:hover {
       transform: scale(1.05);
     }

     #copy span {
       color: #eee;
     }

     #copy.copied {
       color: #4caf50; /* Green copied */
       animation: pulse 1s ease-in-out infinite alternate;
     }

     @keyframes pulse {
       from { transform: scale(1); }
       to { transform: scale(1.1); }
     }

     /* Background Animation */
     .bg-animation {
       position: fixed;
       top: 0;
       left: 0;
       width: 100%;
       height: 100%;
       pointer-events: none;
       z-index: -1;
       overflow: hidden;
     }

     .bg-animation span {
       position: absolute;
       bottom: -100px; /* Start from below */
       left: calc(var(--i) * 2.5vw); /* Horizontal spread */
       border-radius: 50%;
       background: linear-gradient(45deg, #00bcd4, #00ffc6); /* Gradient circles */
       animation: rise 10s cubic-bezier(0.5, 0, 0.5, 1) infinite;
       opacity: 0.7;
       filter: blur(8px);
       transform-origin: bottom center;
     }

     @keyframes rise {
       0% {
         transform: translateY(0) scale(0.2) rotate(0deg);
         opacity: 0.4;
       }
       50% {
         opacity: 0.9;
         filter: blur(5px);
       }
       100% {
         transform: translateY(-180vh) scale(1) rotate(360deg);
         opacity: 0;
       }
     }
   </style>
   <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
 </head>

 <body>
   <div class="bg-animation"></div>
   <div class="container">
     <div class="logo-container">
       <img src="https://i.ibb.co/wrhHm9YZ/file-181.jpg" alt="TECBROS-MD Logo" class="logo">
       <p class="bot-name">TECBROS-MD</p>
     </div>
     <div class="main">
       <div class="box" id="box">
         <div id="text">
           <i class="fa fa-link fa-2x" style="margin-bottom: 15px; color: #00bcd4;"></i>
           <p>
             <h3 class="centered-text">Link with WhatsApp number</h3>
             <br>
             <h6><span style="font-weight: bold;">Enter your WhatsApp number</span> with country code.</h6>
             <div class="input-container">
               <input placeholder="+234XXXXXXXX" type="number" id="number" name="">
               <button id="submit">Pair</button>
             </div>
             <div id="loading-spinner">
               <i class="fas fa-spinner fa-spin fa-lg"></i>
             </div>
             <br><br>
             <main id="pair"></main>
           </p>
         </div>
       </div>
     </div>
   </div>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
   <script>
     // Background Animation Setup
     const bgAnimation = document.querySelector('.bg-animation');
     const numberOfCircles = 30; // Adjusted number of circles

     for (let i = 0; i < numberOfCircles; i++) {
       const span = document.createElement('span');
       const size = Math.random() * 60 + 20; // Adjusted size range
       span.style.width = size + 'px';
       span.style.height = size + 'px';
       span.style.left = `${Math.random() * 100}vw`; /* Start from random horizontal positions */
       span.style.animationDelay = `${Math.random() * 8}s`; /* More varied delay */
       span.style.animationDuration = `${Math.random() * 8 + 10}s`; /* More varied duration */
       span.style.setProperty('--i', i); /* Correctly set the --i variable */
       bgAnimation.appendChild(span);
     }

     let pairElement = document.getElementById("pair");
     let submitButton = document.getElementById("submit");
     let numberInput = document.getElementById("number");
     let boxElement = document.getElementById("box");
     let copyElement;

     async function Copy() {
       if (!copyElement) return;

       let text = copyElement.innerText;
       try {
         await navigator.clipboard.writeText(copyElement.innerText.replace('CODE: ', ''));
         copyElement.innerText = "✔️ COPIED";
         copyElement.classList.add('copied');
         setTimeout(() => {
           copyElement.innerText = text;
           copyElement.classList.remove('copied');
         }, 1000);
       } catch (error) {
         console.error("Failed to copy code:", error);
         pairElement.innerHTML = '<a class="error-message"> Failed to copy code‼️. Please copy manually.</a><br><br>';
       }
     }

     submitButton.addEventListener("click", async (e) => {
       e.preventDefault();
       const phoneNumber = numberInput.value;

       pairElement.innerHTML = '';

       if (!phoneNumber) {
         pairElement.innerHTML = '<a class="error-message"> Enter your WhatsApp number with country code‼️.</a><br><br>';
         return;
       }

       if (phoneNumber.replace(/[^0-9]/g, "").length < 11) {
         pairElement.innerHTML = '<a class="error-message"> Invalid number format. Please try again‼️.</a><br><br>';
         return;
       }

       const formattedNumber = "+" + phoneNumber.replace(/[^0-9]/g, "");
       numberInput.type = "text";
       numberInput.value = formattedNumber;
       numberInput.style.color = "#eee";
       numberInput.style.fontSize = "0.9em";

       document.getElementById("loading-spinner").style.display = "block";

       try {
         const {
           data
         } = await axios.get(`/code?number=${phoneNumber.replace(/[^0-9]/g, "")}`);
         const code = data.code || "Service Unavailable‼️";
         pairElement.innerHTML = `<font id="copy" onclick="Copy()">CODE: <span style="color:#eee;font-weight:bold">${code}</span></font><br><br><br>`;
         copyElement = document.getElementById("copy");
       } catch (error) {
         console.error("Error fetching code:", error);
         let errorMessage = " Failed to retrieve code. Please try again‼️.";
         if (error.response) {
           errorMessage = ` Server error‼️: ${error.response.status} - ${error.response.data.message || 'Please try again.'}`;
         } else if (error.request) {
           errorMessage = " No response from server. Check your internet connection‼️.";
         }
         pairElement.innerHTML = `<a class="error-message">${errorMessage}</a><br><br>`;
       } finally {
         document.getElementById("loading-spinner").style.display = "none";
       }
     });
   </script>
 </body>

 </html>
